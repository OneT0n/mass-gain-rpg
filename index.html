<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Mass Gain RPG">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiBmaWxsPSIjMDAwMDAwIiByeD0iNDAiLz4KPHN2ZyB4PSI0MCIgeT0iNDAiIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZmZmZiIgc3Ryb2tlLXdpZHRoPSIyIj4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiI+CjxwYXRoIGQ9Ik02LjUgNi41aDExdjExaC0xMXoiLz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+Cjwvc3ZnPgo8L3N2Zz4KPC9zdmc+">
    <title>Mass Gain RPG</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.25.6/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(180deg, #000000, #111111);
            color: white;
            overflow-x: hidden;
            -webkit-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        .animate-pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 10px rgba(255, 255, 255, 0.3); }
            50% { box-shadow: 0 0 25px rgba(255, 255, 255, 0.8), 0 0 40px rgba(255, 255, 255, 0.4); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .shake-animation {
            animation: shake 0.5s ease-in-out;
        }
        
        .notification-enter {
            animation: slideInTop 0.5s ease-out;
        }
        
        @keyframes slideInTop {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        html, body, #root {
            height: 100vh;
            width: 100vw;
            overflow-x: hidden;
        }
        
        .muscle-glow {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.7), 0 0 40px rgba(255, 255, 255, 0.3);
            animation: muscle-pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes muscle-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.7), 0 0 40px rgba(255, 255, 255, 0.3); }
            50% { box-shadow: 0 0 30px rgba(255, 255, 255, 0.9), 0 0 60px rgba(255, 255, 255, 0.5); }
        }
        
        .urgent-glow {
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.6), 0 0 30px rgba(255, 255, 255, 0.3);
        }
        
        .progress-bar {
            width: 100%;
            max-width: 100%;
            overflow: hidden;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .current-task {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            border: 2px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
        }
        
        .completed-task {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .locked-task {
            background: rgba(75, 85, 99, 0.1);
            border: 1px solid rgba(75, 85, 99, 0.2);
        }

        .notification-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(200, 200, 200, 0.9));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 300px;
            animation: slideInTop 0.5s ease-out;
            color: black;
        }

        .streak-fire {
            animation: fire-flicker 1.5s ease-in-out infinite alternate;
        }
        
        @keyframes fire-flicker {
            0% { transform: scale(1) rotate(-2deg); }
            100% { transform: scale(1.1) rotate(2deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;
        const { createRoot } = ReactDOM;

        // Icons (–≤—Å–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã)
        const Dumbbell = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M6.5 6.5h11v11h-11z"/>
                <path d="M4 12h2"/>
                <path d="M18 12h2"/>
                <path d="M12 4v2"/>
                <path d="M12 18v2"/>
            </svg>
        );
        const Target = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2"/>
            </svg>
        );
        const TrendingUp = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/>
                <polyline points="16,7 22,7 22,13"/>
            </svg>
        );
        const Trophy = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
                <path d="M7 4V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2"/>
                <path d="M7 4h10v9a3 3 0 0 1-3 3H10a3 3 0 0 1-3-3V4Z"/>
            </svg>
        );
        const Droplet = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/>
            </svg>
        );
        const Moon = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
        );
        const Utensils = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/>
                <path d="M7 2v20"/>
                <path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3z"/>
            </svg>
        );
        const Activity = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"/>
            </svg>
        );
        const Clock = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12,6 12,12 16,14"/>
            </svg>
        );
        const CheckCircle = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <polyline points="22,4 12,14.01 9,11.01"/>
            </svg>
        );
        const X = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        );
        const Book = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
            </svg>
        );
        const Zap = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <polygon points="13,2 3,14 12,14 11,22 21,10 12,10"/>
            </svg>
        );
        const Heart = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
            </svg>
        );
        const Info = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="16" x2="12" y2="12"/>
                <line x1="12" y1="8" x2="12.01" y2="8"/>
            </svg>
        );
        const Home = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                <polyline points="9,22 9,12 15,12 15,22"/>
            </svg>
        );
        const Pill = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M10.5 20.5 20.5 10.5a7.5 7.5 0 1 0-10.6 0Z"/>
                <path d="M3.5 13.5 13.5 3.5a7.5 7.5 0 1 1 10.6 10.6Z"/>
            </svg>
        );
        const Star = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
            </svg>
        );
        const Bell = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
        );
        const Settings = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <circle cx="12" cy="12" r="3"/>
                <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
        );
        const Calendar = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
        );
        const Volume2 = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"/>
                <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
                <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
            </svg>
        );
        const Fire = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/>
            </svg>
        );
        const Timer = ({ size = 16, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" className={className}>
                <line x1="10" y1="2" x2="14" y2="2"/>
                <line x1="12" y1="14" x2="15" y2="11"/>
                <circle cx="12" cy="14" r="8"/>
            </svg>
        );

        const MassGainApp = () => {
            // –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            const [player, setPlayer] = useState({
                name: "–ú–∞—Å—Å –ì–µ–π–Ω–µ—Ä",
                level: 1,
                currentWeight: 55,
                exp: 0,
                expToNext: 100,
                strength: 10,
                muscle: 8,
                energy: 6,
                discipline: 12,
                massPoints: 0,
                tasksCompleted: 0,
                streak: 0,
                totalWaterGlasses: 0,
                totalIceSessions: 0,
                penaltyMultiplier: 1.0,
                lastPenaltyDate: null,
                perfectDays: 0,
                missedTasks: 0,
                totalDays: 1,
                currentStreak: 0,
                bestStreak: 0
            });

            // –ù–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            const [achievements, setAchievements] = useState([]);
            const [completedToday, setCompletedToday] = useState([]);
            const [showPlan, setShowPlan] = useState(false);
            const [expandedQuest, setExpandedQuest] = useState(null);
            const [currentTime, setCurrentTime] = useState(new Date());
            const [showSuccessAnimation, setShowSuccessAnimation] = useState(false);
            const [notifications, setNotifications] = useState([]);
            const [notificationPermission, setNotificationPermission] = useState('default');
            const [settings, setSettings] = useState({
                notificationsEnabled: true,
                soundEnabled: true,
                vibrationEnabled: true,
                reminderInterval: 5 // –º–∏–Ω—É—Ç –¥–æ –∑–∞–¥–∞–Ω–∏—è
            });
            const [showSettings, setShowSettings] = useState(false);
            const [weeklyStats, setWeeklyStats] = useState({
                completedDays: 0,
                totalTasks: 0,
                avgCompletion: 0
            });
            const [showCalendar, setShowCalendar] = useState(false);
            const [completedDates, setCompletedDates] = useState({});
            const [installPrompt, setInstallPrompt] = useState(null);
            const [isStandalone, setIsStandalone] = useState(false);
            const [deviceInfo, setDeviceInfo] = useState({
                isIOS: false,
                isAndroid: false,
                isPWAInstalled: false
            });
            
            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ PWA —Å—Ç–∞—Ç—É—Å–∞
            useEffect(() => {
                const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                const isAndroid = /Android/.test(navigator.userAgent);
                const isPWAInstalled = window.matchMedia('(display-mode: standalone)').matches;
                
                setDeviceInfo({ isIOS, isAndroid, isPWAInstalled });
                setIsStandalone(isPWAInstalled);
            }, []);
            
            // –†–µ—Ñ—ã –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ)
            const lastNotificationQuest = useRef(null);

            // –ó–≤—É–∫–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Web Audio API)
            const playNotificationSound = useCallback(() => {
                if (!settings.soundEnabled) return;
                
                try {
                    // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π –∑–≤—É–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                    oscillator.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);
                    
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.3);
                } catch (error) {
                    console.log('–ó–≤—É–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:', error);
                }
            }, [settings.soundEnabled]);

            // –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è iPhone
            const hapticFeedback = useCallback((type = 'light') => {
                if (navigator.vibrate) {
                    switch(type) {
                        case 'light':
                            navigator.vibrate(10);
                            break;
                        case 'medium':
                            navigator.vibrate(20);
                            break;
                        case 'heavy':
                            navigator.vibrate([30, 10, 30]);
                            break;
                        case 'success':
                            navigator.vibrate([100, 50, 100, 50, 100]);
                            break;
                    }
                }
            }, []);

            // –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
            const vibrate = useCallback(() => {
                hapticFeedback('medium');
            }, [hapticFeedback]);

            // –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–µ—Å—Ç–æ–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)
            const [touchStart, setTouchStart] = useState(null);

            const handleTouchStart = (e) => {
                setTouchStart(e.targetTouches[0].clientX);
            };

            const handleTouchEnd = (e) => {
                if (!touchStart) return;
                const touchEnd = e.changedTouches[0].clientX;
                const distance = touchStart - touchEnd;
                
                if (Math.abs(distance) > 50) {
                    hapticFeedback('light');
                }
            };

            // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const requestNotificationPermission = useCallback(async () => {
                if ('Notification' in window) {
                    const permission = await Notification.requestPermission();
                    setNotificationPermission(permission);
                    return permission === 'granted';
                }
                return false;
            }, []);

            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const showNotification = useCallback((quest, type = 'new') => {
                if (!settings.notificationsEnabled) return;

                const messages = {
                    'new': `‚è∞ –ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ!`,
                    'reminder': `üîî –ù–µ –∑–∞–±—É–¥—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ!`,
                    'completed': `‚úÖ –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! +${quest.exp} EXP`
                };

                const notification = {
                    id: Date.now(),
                    title: messages[type],
                    message: quest.title,
                    time: quest.time,
                    type: type,
                    quest: quest
                };

                setNotifications(prev => [...prev, notification]);

                // –ó–≤—É–∫ –∏ —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
                playNotificationSound();
                vibrate();

                // –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                if (notificationPermission === 'granted' && 'Notification' in window) {
                    try {
                        new Notification(notification.title, {
                            body: `${quest.time} - ${quest.title}`,
                            icon: '/favicon.ico',
                            badge: '/favicon.ico',
                            tag: `quest-${quest.id}`,
                            requireInteraction: true
                        });
                    } catch (error) {
                        console.log('–ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ:', error);
                    }
                }

                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                setTimeout(() => {
                    setNotifications(prev => prev.filter(n => n.id !== notification.id));
                }, 5000);

            }, [settings.notificationsEnabled, notificationPermission, playNotificationSound, vibrate]);

            // –£–¥–∞–ª–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const dismissNotification = useCallback((id) => {
                setNotifications(prev => prev.filter(n => n.id !== id));
            }, []);

            // –í–°–ï 25 –ó–ê–î–ê–ù–ò–ô (—Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ)
            const dailyQuests = [
                {
                    id: 1,
                    time: "08:00",
                    title: "–ü—Ä–æ—Å–Ω—É—Ç—å—Å—è –∏ –≤—ã–ø–∏—Ç—å –≤–æ–¥—ã",
                    icon: <Droplet className="text-white" size={16} />,
                    exp: 10, stats: { energy: 1, discipline: 1 }, mp: 5,
                    details: "–°—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–¥—ä–µ–º–∞ –≤—ã–ø–µ–π 1-2 —Å—Ç–∞–∫–∞–Ω–∞ –≤–æ–¥—ã. –ó–∞–ø—É—Å–∫–∞–µ—Ç –º–µ—Ç–∞–±–æ–ª–∏–∑–º –∏ –≥–∏–¥—Ä–∞—Ç–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ 8 —á–∞—Å–æ–≤ –±–µ–∑ –≤–æ–¥—ã.",
                    category: "morning"
                },
                {
                    id: 2,
                    time: "08:15",
                    title: "–õ–µ–¥ –¥–ª—è –ª–∏—Ü–∞ + —É—Ç—Ä–µ–Ω–Ω—è—è –≥–∏–≥–∏–µ–Ω–∞",
                    icon: <Heart className="text-white" size={16} />,
                    exp: 15, stats: { energy: 2, discipline: 1 }, mp: 10,
                    details: "–õ–ò–¶–û: –º–∞—Å—Å–∏—Ä—É–π –∫—É–±–∏–∫–æ–º –ª—å–¥–∞ 3-5 –º–∏–Ω—É—Ç –∫—Ä—É–≥–æ–≤—ã–º–∏ –¥–≤–∏–∂–µ–Ω–∏—è–º–∏. –£–±–∏—Ä–∞–µ—Ç –æ—Ç–µ–∫–∏, —É–ª—É—á—à–∞–µ—Ç –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ, –¥–µ–ª–∞–µ—Ç —Å–∫—É–ª—ã —á–µ—Ç—á–µ. –ü–æ—Ç–æ–º —É–º–æ–π—Å—è –∏ –ø–æ—á–∏—Å—Ç–∏ –∑—É–±—ã.",
                    category: "morning"
                },
                {
                    id: 3,
                    time: "08:35",
                    title: "–ö—Ä–µ–∞—Ç–∏–Ω + –≤–∏—Ç–∞–º–∏–Ω—ã",
                    icon: <Pill className="text-white" size={16} />,
                    exp: 8, stats: { muscle: 2 }, mp: 6,
                    details: "5–≥ –∫—Ä–µ–∞—Ç–∏–Ω–∞ + –≤–∏—Ç–∞–º–∏–Ω D3 + –æ–º–µ–≥–∞-3. –ö—Ä–µ–∞—Ç–∏–Ω –¥–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –º—ã—à—Ü–∞–º, D3 –¥–ª—è —Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω–∞, –æ–º–µ–≥–∞-3 –¥–ª—è —Å—É—Å—Ç–∞–≤–æ–≤.",
                    category: "morning"
                },
                {
                    id: 4,
                    time: "08:45",
                    title: "–í–∑–≤–µ—Å–∏—Ç—å—Å—è –∏ –∑–∞–º–µ—Ä—ã",
                    icon: <Target className="text-white" size={16} />,
                    exp: 10, stats: { discipline: 2 }, mp: 8,
                    details: "–í–∑–≤–µ—à–∏–≤–∞–π—Å—è —É—Ç—Ä–æ–º –Ω–∞—Ç–æ—â–∞–∫. –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é –º–µ—Ä—è–π –≥—Ä—É–¥—å, —Ä—É–∫–∏, —Ç–∞–ª–∏—é. –ó–∞–ø–∏—Å—ã–≤–∞–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.",
                    category: "morning"
                },
                {
                    id: 5,
                    time: "09:00",
                    title: "–°—É–ø–µ—Ä –∑–∞–≤—Ç—Ä–∞–∫",
                    icon: <Utensils className="text-white" size={16} />,
                    exp: 30, stats: { energy: 3, muscle: 3, discipline: 2 }, mp: 25,
                    details: "3 —è–π—Ü–∞ + 2-3 –∫—É—Å–∫–∞ —Ö–ª–µ–±–∞ —Å –º–∞—Å–ª–æ–º + –±–∞–Ω–∞–Ω + —Å—Ç–∞–∫–∞–Ω –º–æ–ª–æ–∫–∞. 700+ –∫–∞–ª–æ—Ä–∏–π! –û—Å–Ω–æ–≤–∞ –Ω–∞–±–æ—Ä–∞ –º–∞—Å—Å—ã - –ù–ï –ü–†–û–ü–£–°–ö–ê–ô!",
                    category: "morning"
                },
                {
                    id: 6,
                    time: "09:30",
                    title: "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–æ–¥–∞",
                    icon: <Droplet className="text-white" size={16} />,
                    exp: 5, stats: { energy: 1 }, mp: 3,
                    details: "–ï—â–µ —Å—Ç–∞–∫–∞–Ω –≤–æ–¥—ã. –¶–µ–ª—å: 2.5-3 –ª–∏—Ç—Ä–∞ –≤ –¥–µ–Ω—å. –í–æ–¥–∞ = —Ä–æ—Å—Ç –º—ã—à—Ü + –∫—Ä–∞—Å–∏–≤–∞—è –∫–æ–∂–∞ –ª–∏—Ü–∞.",
                    category: "morning"
                },
                {
                    id: 7,
                    time: "10:00",
                    title: "–£–±–æ—Ä–∫–∞ –∫–æ–º–Ω–∞—Ç—ã",
                    icon: <Home className="text-white" size={16} />,
                    exp: 12, stats: { discipline: 2, energy: 1 }, mp: 8,
                    details: "–ó–∞–ø—Ä–∞–≤—å –∫—Ä–æ–≤–∞—Ç—å, —Å–æ–±–µ—Ä–∏ –º—É—Å–æ—Ä, –ø—Ä–æ—Ç—Ä–∏ –ø—ã–ª—å. –ß–∏—Å—Ç–æ—Ç–∞ = —è—Å–Ω–æ—Å—Ç—å –º—ã—Å–ª–µ–π = –±–æ–ª—å—à–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã.",
                    category: "day"
                },
                {
                    id: 8,
                    time: "10:30",
                    title: "–ü–µ—Ä–µ–∫—É—Å + –≤–æ–¥–∞",
                    icon: <Utensils className="text-white" size={16} />,
                    exp: 15, stats: { energy: 2, muscle: 1 }, mp: 12,
                    details: "–ú–æ–ª–æ–∫–æ + –±–∞–Ω–∞–Ω + –æ—Ä–µ—Ö–∏ –ò–õ–ò –±—É—Ç–µ—Ä–±—Ä–æ–¥ —Å –º—è—Å–æ–º. –ù–µ –¥–∞–π –æ—Ä–≥–∞–Ω–∏–∑–º—É –≥–æ–ª–æ–¥–∞—Ç—å. –í—ã–ø–µ–π —Å—Ç–∞–∫–∞–Ω –≤–æ–¥—ã.",
                    category: "day"
                },
                {
                    id: 9,
                    time: "11:00",
                    title: "–õ–µ–≥–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
                    icon: <Activity className="text-white" size={16} />,
                    exp: 12, stats: { strength: 1, energy: 1 }, mp: 8,
                    details: "10-15 –æ—Ç–∂–∏–º–∞–Ω–∏–π –ò–õ–ò –≤–∏—Å –Ω–∞ —Ç—É—Ä–Ω–∏–∫–µ 30-60 —Å–µ–∫. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—à—å –º—ã—à—Ü—ã, –≥–æ—Ç–æ–≤–∏—à—å —Ç–µ–ª–æ –∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ.",
                    category: "day"
                },
                {
                    id: 10,
                    time: "11:30",
                    title: "–ú–∞—Å—Å–∞–∂ –ª–∏—Ü–∞ —Ä—É–∫–∞–º–∏",
                    icon: <Heart className="text-white" size={16} />,
                    exp: 8, stats: { discipline: 1 }, mp: 6,
                    details: "–ö—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∫ –∫—Ä–∞—è–º, –ª–µ–≥–∫–∏–µ –ø–æ—Ö–ª–æ–ø—ã–≤–∞–Ω–∏—è. –£–ª—É—á—à–∞–µ—Ç –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ –ª–∏—Ü–∞.",
                    category: "day"
                },
                {
                    id: 11,
                    time: "12:00",
                    title: "–û–±–µ–¥ —á–µ–º–ø–∏–æ–Ω–∞",
                    icon: <Utensils className="text-white" size={16} />,
                    exp: 35, stats: { energy: 3, muscle: 4, discipline: 2 }, mp: 30,
                    details: "150-200–≥ –º—è—Å–∞/–∫—É—Ä–∏—Ü—ã + —Ä–∏—Å/–≥—Ä–µ—á–∫–∞ + –æ–≤–æ—â–∏ + –º–∞—Å–ª–æ. 800+ –∫–∞–ª–æ—Ä–∏–π. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–µ–º –ø–∏—â–∏ –¥–Ω—è!",
                    category: "day"
                },
                {
                    id: 12,
                    time: "13:00",
                    title: "–ü–æ—Å–ª–µ–æ–±–µ–¥–µ–Ω–Ω—ã–π –æ—Ç–¥—ã—Ö",
                    icon: <Droplet className="text-white" size={16} />,
                    exp: 5, stats: { energy: 1 }, mp: 3,
                    details: "–í—ã–ø–µ–π –≤–æ–¥—ã, –º–æ–∂–µ—à—å –ø–æ–ª–µ–∂–∞—Ç—å 10-15 –º–∏–Ω—É—Ç –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏—è.",
                    category: "day"
                },
                {
                    id: 13,
                    time: "14:00",
                    title: "–ü—Ä–µ–¥—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø–µ—Ä–µ–∫—É—Å",
                    icon: <Utensils className="text-white" size={16} />,
                    exp: 18, stats: { energy: 2, muscle: 1 }, mp: 15,
                    details: "–¢–≤–æ—Ä–æ–≥ 150–≥ + —Ñ—Ä—É–∫—Ç –ò–õ–ò –±–∞–Ω–∞–Ω + –º–æ–ª–æ–∫–æ. –ó–∞ —á–∞—Å –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –≠–Ω–µ—Ä–≥–∏—è –±–µ–∑ —Ç—è–∂–µ—Å—Ç–∏ –≤ –∂–∏–≤–æ—Ç–µ.",
                    category: "pre-workout"
                },
                {
                    id: 14,
                    time: "14:30",
                    title: "–†–∞—Å—Ç—è–∂–∫–∞ —à–µ–∏ –∏ –ø–ª–µ—á",
                    icon: <Activity className="text-white" size={16} />,
                    exp: 10, stats: { energy: 1, discipline: 1 }, mp: 8,
                    details: "–ù–∞–∫–ª–æ–Ω—ã –≥–æ–ª–æ–≤—ã –≤ —Å—Ç–æ—Ä–æ–Ω—ã, –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–ª–µ—á–∞–º–∏. –õ—É—á—à–∞—è –æ—Å–∞–Ω–∫–∞ = –±–æ–ª–µ–µ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –≤–∏–¥.",
                    category: "pre-workout"
                },
                {
                    id: 15,
                    time: "15:00",
                    title: "–ü—Ä–µ–¥—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–∞—è –≤–æ–¥–∞",
                    icon: <Droplet className="text-white" size={16} />,
                    exp: 8, stats: { energy: 1, discipline: 1 }, mp: 6,
                    details: "–°—Ç–∞–∫–∞–Ω –≤–æ–¥—ã –∑–∞ 30 –º–∏–Ω—É—Ç –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –ù–∞—Å—Ç—Ä–æ–π—Å—è –º—ã—Å–ª–µ–Ω–Ω–æ: —Å–µ–≥–æ–¥–Ω—è —Ç—ã —Å—Ç–∞–Ω–µ—à—å —Å–∏–ª—å–Ω–µ–µ!",
                    category: "pre-workout"
                },
                {
                    id: 16,
                    time: "16:00",
                    title: "–û—Å–Ω–æ–≤–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞",
                    icon: <Dumbbell className="text-white" size={16} />,
                    exp: 60, stats: { strength: 4, muscle: 5, discipline: 3 }, mp: 50,
                    details: "–ü–ù/–°–†/–ü–¢ - –í–ï–†–•: –ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏—è 4x3-5 + –û—Ç–∂–∏–º–∞–Ω–∏—è 3x10-15 + –≠—Å–ø–∞–Ω–¥–µ—Ä 3x15 + –ü–ª–∞–Ω–∫–∞. –í–¢/–ß–¢ - –ù–ò–ó: –ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è 4x15-20 + –í—ã–ø–∞–¥—ã 3x10 + –ü—Ä–µ—Å—Å.",
                    category: "workout"
                },
                {
                    id: 17,
                    time: "16:30",
                    title: "–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–µ —É–º—ã–≤–∞–Ω–∏–µ",
                    icon: <Droplet className="text-white" size={16} />,
                    exp: 8, stats: { energy: 1 }, mp: 6,
                    details: "–£–º—ã–≤–∞–π—Å—è —Ç–µ–ø–ª–æ–π –∏ —Ö–æ–ª–æ–¥–Ω–æ–π –≤–æ–¥–æ–π –ø–æ–ø–µ—Ä–µ–º–µ–Ω–Ω–æ (–ø–æ 30 —Å–µ–∫, 3-4 —Ä–∞–∑–∞). –¢–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∫–æ–∂—É, —Å—É–∂–∞–µ—Ç –ø–æ—Ä—ã.",
                    category: "workout"
                },
                {
                    id: 18,
                    time: "17:30",
                    title: "–ü–æ—Å–ª–µ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –ø—Ä–æ—Ç–µ–∏–Ω",
                    icon: <Pill className="text-white" size={16} />,
                    exp: 20, stats: { muscle: 3, energy: 1 }, mp: 18,
                    details: "–°–†–ê–ó–£ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏: –ø—Ä–æ—Ç–µ–∏–Ω 30-40–≥ –ò–õ–ò –º–æ–ª–æ–∫–æ + –±–∞–Ω–∞–Ω. –ü–µ—Ä–≤—ã–µ 30 –º–∏–Ω—É—Ç - –∞–Ω–∞–±–æ–ª–∏—á–µ—Å–∫–æ–µ –æ–∫–Ω–æ!",
                    category: "post-workout"
                },
                {
                    id: 19,
                    time: "18:00",
                    title: "–î—É—à –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏",
                    icon: <Droplet className="text-white" size={16} />,
                    exp: 10, stats: { energy: 1, discipline: 1 }, mp: 8,
                    details: "–¢–µ–ø–ª—ã–π –¥—É—à, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 1-2 –º–∏–Ω—É—Ç—ã - —Ö–æ–ª–æ–¥–Ω—ã–π. –•–æ–ª–æ–¥–Ω–∞—è –≤–æ–¥–∞ —É–ª—É—á—à–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—ã—à—Ü.",
                    category: "post-workout"
                },
                {
                    id: 20,
                    time: "19:00",
                    title: "–£–∂–∏–Ω —Å–∏–ª–∞—á–∞",
                    icon: <Utensils className="text-white" size={16} />,
                    exp: 30, stats: { energy: 2, muscle: 3, discipline: 1 }, mp: 25,
                    details: "150-200–≥ –±–µ–ª–∫–∞ + –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å/—Ä–∏—Å + —Å–∞–ª–∞—Ç —Å –º–∞—Å–ª–æ–º. 700+ –∫–∞–ª–æ—Ä–∏–π. –ú—ã—à—Ü—ã —Ä–∞—Å—Ç—É—Ç –Ω–æ—á—å—é - –¥–∞–π –∏–º –º–∞—Ç–µ—Ä–∏–∞–ª!",
                    category: "evening"
                },
                {
                    id: 21,
                    time: "20:00",
                    title: "–í–µ—á–µ—Ä–Ω—è—è –≤–æ–¥–∞",
                    icon: <Droplet className="text-white" size={16} />,
                    exp: 8, stats: { energy: 1 }, mp: 5,
                    details: "–°—Ç–∞–∫–∞–Ω –≤–æ–¥—ã. –ú–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –º–∞–≥–Ω–∏–π –¥–ª—è –ª—É—á—à–µ–≥–æ —Å–Ω–∞ –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è –º—ã—à—Ü.",
                    category: "evening"
                },
                {
                    id: 22,
                    time: "20:30",
                    title: "–ù–æ—á–Ω–æ–π –ø–µ—Ä–µ–∫—É—Å",
                    icon: <Utensils className="text-white" size={16} />,
                    exp: 22, stats: { muscle: 3, energy: 1 }, mp: 18,
                    details: "–¢–≤–æ—Ä–æ–≥ 150-200–≥ + –æ—Ä–µ—Ö–∏ + –º–µ–¥. –ö–∞–∑–µ–∏–Ω –±—É–¥–µ—Ç –ø–∏—Ç–∞—Ç—å –º—ã—à—Ü—ã –≤—Å—é –Ω–æ—á—å (8 —á–∞—Å–æ–≤!). –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Ä–æ—Å—Ç–∞.",
                    category: "night"
                },
                {
                    id: 23,
                    time: "21:00",
                    title: "–õ–µ–¥ –¥–ª—è –ª–∏—Ü–∞ –≤–µ—á–µ—Ä–æ–º",
                    icon: <Heart className="text-white" size={16} />,
                    exp: 12, stats: { discipline: 1 }, mp: 10,
                    details: "–í–µ—á–µ—Ä–Ω–∏–π –º–∞—Å—Å–∞–∂ –ª—å–¥–æ–º 3-5 –º–∏–Ω—É—Ç. –£–±–∏—Ä–∞–µ—Ç –¥–Ω–µ–≤–Ω—ã–µ –æ—Ç–µ–∫–∏, –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –∫–æ–∂—É. –£—Ç—Ä–æ–º –ø—Ä–æ—Å–Ω–µ—à—å—Å—è —Å —á–µ—Ç–∫–∏–º–∏ —Å–∫—É–ª–∞–º–∏.",
                    category: "night"
                },
                {
                    id: 24,
                    time: "21:15",
                    title: "–í–µ—á–µ—Ä–Ω—è—è –≥–∏–≥–∏–µ–Ω–∞",
                    icon: <Heart className="text-white" size={16} />,
                    exp: 10, stats: { discipline: 2 }, mp: 8,
                    details: "–£–º–æ–π—Å—è, –ø–æ—á–∏—Å—Ç–∏ –∑—É–±—ã. 2-3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é –∏—Å–ø–æ–ª—å–∑—É–π —Å–∫—Ä–∞–± –¥–ª—è –ª–∏—Ü–∞. –ß–∏—Å—Ç–∞—è –∫–æ–∂–∞ = –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.",
                    category: "night"
                },
                {
                    id: 25,
                    time: "21:35",
                    title: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ —Å–Ω—É",
                    icon: <Moon className="text-white" size={16} />,
                    exp: 25, stats: { discipline: 3, energy: 2 }, mp: 20,
                    details: "–£–±–µ—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω, –ø—Ä–∏–≥–ª—É—à–∏ —Å–≤–µ—Ç, –ª–æ–∂–∏—Å—å –¥–æ 22:30. 80% —Ä–æ—Å—Ç–∞ –º—ã—à—Ü –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ —Å–Ω–µ! –¶–µ–ª—å: 8-9 —á–∞—Å–æ–≤ —Å–Ω–∞.",
                    category: "night"
                }
            ];

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
            useEffect(() => {
                const timer = setInterval(() => {
                    setCurrentTime(new Date());
                }, 60000);
                return () => clearInterval(timer);
            }, []);

            // –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
            useEffect(() => {
                if (!settings.notificationsEnabled) return;

                const availableIndex = getCurrentAvailableQuest();
                const currentQuest = availableIndex >= 0 ? dailyQuests[availableIndex] : null;
                
                if (currentQuest && !completedToday.includes(currentQuest.id)) {
                    // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Ç–∞–π–º–µ—Ä–æ–≤
                }
            }, [currentTime, completedToday, settings.notificationsEnabled]);

            // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
            useEffect(() => {
                if (settings.notificationsEnabled && notificationPermission === 'default') {
                    requestNotificationPermission();
                }
            }, [settings.notificationsEnabled, requestNotificationPermission]);

            // –£–õ–£–ß–®–ï–ù–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
            const getCurrentAvailableQuest = useCallback(() => {
                const now = currentTime;
                const currentHour = now.getHours();
                const currentMinute = now.getMinutes();
                const currentTimeMinutes = currentHour * 60 + currentMinute;
                
                // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω –∑–∞–¥–∞–Ω–∏–π –≤ –º–∏–Ω—É—Ç—ã —Å –Ω–∞—á–∞–ª–∞ –¥–Ω—è
                const questTimesInMinutes = dailyQuests.map(quest => {
                    const [hours, minutes] = quest.time.split(':').map(Number);
                    return hours * 60 + minutes;
                });
                
                // –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
                let availableIndex = -1;
                for (let i = 0; i < questTimesInMinutes.length; i++) {
                    if (currentTimeMinutes >= questTimesInMinutes[i]) {
                        availableIndex = i;
                    } else {
                        break;
                    }
                }
                
                return availableIndex;
            }, [currentTime, dailyQuests]);

            // –ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è
            const getTimeUntilNext = useCallback(() => {
                const availableIndex = getCurrentAvailableQuest();
                const nextIndex = availableIndex + 1;
                
                if (nextIndex >= dailyQuests.length) return null;
                
                const nextQuest = dailyQuests[nextIndex];
                const [hours, minutes] = nextQuest.time.split(':').map(Number);
                const nextTime = new Date(currentTime);
                nextTime.setHours(hours, minutes, 0, 0);
                
                const diff = nextTime - currentTime;
                if (diff < 0) return null;
                
                const minutesLeft = Math.floor(diff / (1000 * 60));
                const hoursLeft = Math.floor(minutesLeft / 60);
                const remainingMinutes = minutesLeft % 60;
                
                if (hoursLeft > 0) {
                    return `${hoursLeft}—á ${remainingMinutes}–º`;
                } else {
                    return `${minutesLeft}–º`;
                }
            }, [currentTime, getCurrentAvailableQuest, dailyQuests]);

            // –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–Ω–≥
            const getRankInfo = useCallback(() => {
                const weight = player.currentWeight;
                if (weight >= 75) return { rank: "–ú–∞—Å—Å –ú–æ–Ω—Å—Ç—Ä", next: null, color: "text-white", icon: "üî•" };
                if (weight >= 70) return { rank: "–ë–æ–ª—å—à–æ–π –ü–∞—Ä–µ–Ω—å", next: "–î–æ—Å—Ç–∏—á—å 75–∫–≥ –¥–ª—è –ú–∞—Å—Å –ú–æ–Ω—Å—Ç—Ä–∞", color: "text-white", icon: "üí™" };
                if (weight >= 65) return { rank: "–ö—Ä–µ–ø—ã—à", next: "–î–æ—Å—Ç–∏—á—å 70–∫–≥ –¥–ª—è –ë–æ–ª—å—à–æ–≥–æ –ü–∞—Ä–Ω—è", color: "text-white", icon: "üèãÔ∏è" };
                if (weight >= 60) return { rank: "–ù–æ–≤–∏—á–æ–∫+", next: "–î–æ—Å—Ç–∏—á—å 65–∫–≥ –¥–ª—è –ö—Ä–µ–ø—ã—à–∞", color: "text-white", icon: "üìà" };
                return { rank: "–ù–æ–≤–∏—á–æ–∫", next: "–î–æ—Å—Ç–∏—á—å 60–∫–≥ –¥–ª—è –ù–æ–≤–∏—á–æ–∫+", color: "text-gray-400", icon: "üå±" };
            }, [player.currentWeight]);

            // –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã
            const getMotivationalQuote = useCallback(() => {
                const quotes = [
                    "–ö–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ = —á–µ—Ç—á–µ —Å–∫—É–ª—ã!",
                    "–õ–µ–¥ + –ø–∏—Ç–∞–Ω–∏–µ = –º—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ!",
                    "–ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü —Ç—ã —Å–µ–±—è –Ω–µ —É–∑–Ω–∞–µ—à—å!",
                    "–ë–ê–î—ã –Ω–µ –Ω—É–∂–Ω—ã - —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–µ–¥ –∏ –µ–¥–∞!",
                    "–û—Ç 55–∫–≥ –∫ 70–∫–≥ = –Ω–æ–≤–∞—è –ª–∏—á–Ω–æ—Å—Ç—å!",
                    "–¢–≤–æ—è —Å–∏–ª–∞ —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º!",
                    "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ = —Å–≤–æ–±–æ–¥–∞ –≤—ã–±–æ—Ä–∞!",
                    "–°–µ–≥–æ–¥–Ω—è —Ç—ã –ª—É—á—à–µ, —á–µ–º –≤—á–µ—Ä–∞!"
                ];
                return quotes[Math.floor(Math.random() * quotes.length)];
            }, []);

            // –£–õ–£–ß–®–ï–ù–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
            const completeQuest = useCallback((questId) => {
                if (completedToday.includes(questId)) return;

                const quest = dailyQuests.find(q => q.id === questId);
                if (!quest) return;

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç—É–ø–Ω–æ –ª–∏ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
                const questIndex = dailyQuests.findIndex(q => q.id === questId);
                const availableIndex = getCurrentAvailableQuest();
                
                if (questIndex > availableIndex) {
                    alert("‚è∞ –≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ –µ—â–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ! –í—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏.");
                    return;
                }

                let newExp = player.exp + quest.exp;
                let newLevel = player.level;
                let newExpToNext = player.expToNext;
                let leveledUp = false;

                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
                while (newExp >= newExpToNext) {
                    newExp -= newExpToNext;
                    newLevel++;
                    newExpToNext = Math.floor(newExpToNext * 1.2);
                    leveledUp = true;
                }

                // –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê: –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–µ—Å–∞ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö
                const newTasksCompleted = player.tasksCompleted + 1;
                const weightGain = Math.floor(newTasksCompleted / 50) * 0.5; // +0.5–∫–≥ –∫–∞–∂–¥—ã–µ 50 –∑–∞–¥–∞–Ω–∏–π
                const newWeight = Math.min(55 + weightGain, 80); // –ú–∞–∫—Å–∏–º—É–º 80–∫–≥

                const newPlayer = {
                    ...player,
                    exp: newExp,
                    level: newLevel,
                    expToNext: newExpToNext,
                    currentWeight: newWeight,
                    strength: player.strength + (quest.stats?.strength || 0),
                    muscle: player.muscle + (quest.stats?.muscle || 0),
                    energy: player.energy + (quest.stats?.energy || 0),
                    discipline: player.discipline + (quest.stats?.discipline || 0),
                    massPoints: player.massPoints + quest.mp,
                    tasksCompleted: newTasksCompleted
                };

                setPlayer(newPlayer);
                setCompletedToday(prev => [...prev, questId]);

                // Haptic feedback –¥–ª—è —É—Å–ø–µ—Ö–∞
                hapticFeedback('success');

                // –ê–Ω–∏–º–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞
                setShowSuccessAnimation(true);
                setTimeout(() => setShowSuccessAnimation(false), 2000);

                if (leveledUp) {
                    setTimeout(() => {
                        alert(`üî• LEVEL UP! –¢–µ–ø–µ—Ä—å —Ç—ã ${newLevel} —É—Ä–æ–≤–Ω—è! –°–∏–ª–∞ —Ä–∞—Å—Ç–µ—Ç!`);
                    }, 500);
                }

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
                checkAchievements(newPlayer, completedToday.length + 1);

            }, [player, completedToday, dailyQuests, getCurrentAvailableQuest, hapticFeedback]);

            // –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            const checkAchievements = useCallback((newPlayer, completedCount) => {
                const newAchievements = [];
                
                if (completedCount >= 10 && !achievements.includes('first_10')) {
                    newAchievements.push('first_10');
                }
                if (completedCount >= 25 && !achievements.includes('perfect_day')) {
                    newAchievements.push('perfect_day');
                }
                if (newPlayer.level >= 5 && !achievements.includes('level_5')) {
                    newAchievements.push('level_5');
                }
                if (newPlayer.currentWeight >= 60 && !achievements.includes('weight_60')) {
                    newAchievements.push('weight_60');
                }
                
                if (newAchievements.length > 0) {
                    setAchievements(prev => [...prev, ...newAchievements]);
                    hapticFeedback('success');
                    setTimeout(() => {
                        alert(`üèÜ –î–û–°–¢–ò–ñ–ï–ù–ò–ï –ü–û–õ–£–ß–ï–ù–û! ${newAchievements.length} –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π!`);
                    }, 1000);
                }
            }, [achievements, hapticFeedback]);

            // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ –ª–∏ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            const isQuestAvailable = useCallback((questIndex) => {
                const availableIndex = getCurrentAvailableQuest();
                return questIndex <= availableIndex;
            }, [getCurrentAvailableQuest]);

            // –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
            const getNextQuest = useCallback(() => {
                const availableIndex = getCurrentAvailableQuest();
                const nextIndex = availableIndex + 1;
                return nextIndex < dailyQuests.length ? dailyQuests[nextIndex] : null;
            }, [getCurrentAvailableQuest, dailyQuests]);

            const rankInfo = getRankInfo();
            const availableQuestIndex = getCurrentAvailableQuest();
            const currentQuest = availableQuestIndex >= 0 ? dailyQuests[availableQuestIndex] : null;
            const nextQuest = getNextQuest();
            const completionPercentage = (completedToday.length / dailyQuests.length) * 100;
            const timeUntilNext = getTimeUntilNext();

            return (
                <div className="min-h-screen bg-gradient-to-br from-black via-gray-900 to-black text-white relative overflow-hidden"
                     onTouchStart={handleTouchStart}
                     onTouchEnd={handleTouchEnd}>
                    {/* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */}
                    <div className="fixed top-4 right-4 z-50 space-y-2">
                        {notifications.map((notification) => (
                            <div
                                key={notification.id}
                                className="notification-popup max-w-sm"
                            >
                                <div className="flex items-start justify-between">
                                    <div className="flex-1">
                                        <h4 className="font-bold text-sm">{notification.title}</h4>
                                        <p className="text-xs opacity-90 mt-1">{notification.time} - {notification.message}</p>
                                    </div>
                                    <button 
                                        onClick={() => dismissNotification(notification.id)}
                                        className="ml-2 p-1 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors"
                                    >
                                        <X size={14} />
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* PWA Install Banner (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π) */}
                    {deviceInfo.isIOS && !isStandalone && (
                        <div className="fixed bottom-4 left-4 right-4 z-50">
                            <div className="glass-effect rounded-2xl p-4 border border-white border-opacity-20">
                                <div className="flex items-center space-x-3">
                                    <div className="text-2xl">üì±</div>
                                    <div className="flex-1">
                                        <h4 className="font-bold text-sm">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h4>
                                        <p className="text-xs text-gray-400">Safari ‚Üí –ü–æ–¥–µ–ª–∏—Ç—å—Å—è ‚Üí –ù–∞ —ç–∫—Ä–∞–Ω –î–æ–º–æ–π</p>
                                    </div>
                                    <button 
                                        onClick={() => setDeviceInfo(prev => ({...prev, isIOS: false}))}
                                        className="px-3 py-2 rounded-xl bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors text-xs font-bold"
                                    >
                                        –û–ö
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                    {showSuccessAnimation && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center pointer-events-none">
                            <div className="text-6xl animate-bounce">‚úÖ</div>
                            <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                                <div className="text-2xl font-bold text-green-400 animate-pulse">+EXP!</div>
                            </div>
                        </div>
                    )}

                    <div className="relative z-10 p-4 max-w-md mx-auto">
                        {/* –£–õ–£–ß–®–ï–ù–ù–´–ô –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ */}
                        <div className="mb-8 text-center">
                            <div className="flex items-center justify-between mb-4">
                                <button 
                                    onClick={() => setShowPlan(!showPlan)}
                                    className="p-3 rounded-2xl glass-effect hover:bg-opacity-20 transition-all duration-300 float-animation"
                                >
                                    <Book size={18} />
                                </button>
                                <div>
                                    <h1 className="text-2xl font-bold tracking-wider">
                                        MASS GAIN RPG
                                    </h1>
                                    <div className="text-xs text-gray-400 mt-1">
                                        {currentTime.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}
                                    </div>
                                    <div className="text-xs text-white mt-1">
                                        {completionPercentage.toFixed(0)}% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
                                    </div>
                                </div>
                                <button 
                                    onClick={() => setShowSettings(!showSettings)}
                                    className={`p-3 rounded-2xl glass-effect hover:bg-opacity-20 transition-all duration-300 ${
                                        notifications.length > 0 ? 'shake-animation' : ''
                                    }`}
                                >
                                    <Bell size={18} className={settings.notificationsEnabled ? 'text-white' : 'text-gray-400'} />
                                    {notifications.length > 0 && (
                                        <div className="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full flex items-center justify-center text-xs font-bold">
                                            {notifications.length}
                                        </div>
                                    )}
                                </button>
                            </div>
                            <div className="h-px bg-gradient-to-r from-transparent via-white via-opacity-30 to-transparent"></div>
                        </div>

                        {/* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */}
                        {showSettings && (
                            <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                                <div className="absolute inset-0 bg-black bg-opacity-80 backdrop-blur-lg" onClick={() => setShowSettings(false)}></div>
                                <div className="relative w-full max-w-md glass-effect rounded-3xl p-6">
                                    <div className="flex items-center justify-between mb-6">
                                        <h3 className="text-lg font-bold flex items-center">
                                            <Settings size={18} className="mr-2" />
                                            –ù–ê–°–¢–†–û–ô–ö–ò
                                        </h3>
                                        <button 
                                            onClick={() => setShowSettings(false)}
                                            className="p-2 rounded-xl hover:bg-white hover:bg-opacity-10 transition-colors"
                                        >
                                            <X size={18} />
                                        </button>
                                    </div>
                                    
                                    <div className="space-y-4">
                                        <div className="glass-effect rounded-2xl p-4">
                                            <h4 className="font-semibold mb-3 flex items-center">
                                                <Bell size={16} className="mr-2" />
                                                –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                                            </h4>
                                            <div className="space-y-3">
                                                <label className="flex items-center justify-between">
                                                    <span className="text-sm">–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                                                    <input 
                                                        type="checkbox"
                                                        checked={settings.notificationsEnabled}
                                                        onChange={(e) => setSettings(prev => ({...prev, notificationsEnabled: e.target.checked}))}
                                                        className="w-4 h-4 rounded"
                                                    />
                                                </label>
                                                <label className="flex items-center justify-between">
                                                    <span className="text-sm">–ó–≤—É–∫</span>
                                                    <input 
                                                        type="checkbox"
                                                        checked={settings.soundEnabled}
                                                        onChange={(e) => setSettings(prev => ({...prev, soundEnabled: e.target.checked}))}
                                                        className="w-4 h-4 rounded"
                                                    />
                                                </label>
                                                <label className="flex items-center justify-between">
                                                    <span className="text-sm">–í–∏–±—Ä–∞—Ü–∏—è</span>
                                                    <input 
                                                        type="checkbox"
                                                        checked={settings.vibrationEnabled}
                                                        onChange={(e) => setSettings(prev => ({...prev, vibrationEnabled: e.target.checked}))}
                                                        className="w-4 h-4 rounded"
                                                    />
                                                </label>
                                                <div>
                                                    <label className="block text-sm mb-2">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —á–µ—Ä–µ–∑:</label>
                                                    <select 
                                                        value={settings.reminderInterval}
                                                        onChange={(e) => setSettings(prev => ({...prev, reminderInterval: Number(e.target.value)}))}
                                                        className="w-full p-2 rounded-lg bg-white bg-opacity-10 text-white"
                                                    >
                                                        <option value={0}>–í—ã–∫–ª—é—á–µ–Ω–æ</option>
                                                        <option value={5}>5 –º–∏–Ω—É—Ç</option>
                                                        <option value={10}>10 –º–∏–Ω—É—Ç</option>
                                                        <option value={15}>15 –º–∏–Ω—É—Ç</option>
                                                        <option value={30}>30 –º–∏–Ω—É—Ç</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div className="glass-effect rounded-2xl p-4">
                                            <h4 className="font-semibold mb-3 flex items-center">
                                                üì± –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                                            </h4>
                                            <div className="text-sm text-gray-300">
                                                <p>üì± <strong>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:</strong> {deviceInfo.isIOS ? 'iPhone/iPad' : deviceInfo.isAndroid ? 'Android' : 'Desktop'}</p>
                                                <p>üìç <strong>–†–µ–∂–∏–º:</strong> {isStandalone ? '–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ' : '–ë—Ä–∞—É–∑–µ—Ä'}</p>
                                            </div>
                                        </div>
                                        
                                        {settings.notificationsEnabled && (
                                            <div className="mt-4 p-3 rounded-xl bg-white bg-opacity-10">
                                                <p className="text-xs text-gray-400">
                                                    üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –í –±—Ä–∞—É–∑–µ—Ä–µ –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
                                                </p>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* –£–õ–£–ß–®–ï–ù–ù–û–ï –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–ª–∞–Ω–∞ */}
                        {showPlan && (
                            <div className="fixed inset-0 z-50 flex items-center justify-center p-4">
                                <div className="absolute inset-0 bg-black bg-opacity-80 backdrop-blur-lg" onClick={() => setShowPlan(false)}></div>
                                <div className="relative w-full max-w-md glass-effect rounded-3xl p-6 max-h-[80vh] overflow-y-auto">
                                    <div className="flex items-center justify-between mb-4">
                                        <h3 className="text-lg font-bold">
                                            üéØ –ì–ê–†–ê–ù–¢–ò–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–ê
                                        </h3>
                                        <button 
                                            onClick={() => setShowPlan(false)}
                                            className="p-2 rounded-xl hover:bg-white hover:bg-opacity-10 transition-colors"
                                        >
                                            <X size={18} />
                                        </button>
                                    </div>
                                    
                                    <div className="space-y-4 text-sm">
                                        <div className="glass-effect rounded-2xl p-4">
                                            <h4 className="font-semibold text-white mb-2 flex items-center">
                                                <Trophy size={16} className="mr-2" />
                                                –ß–¢–û –î–ê–°–¢ –ü–õ–ê–ù
                                            </h4>
                                            <div className="text-xs text-gray-300 space-y-2">
                                                <p>üî• <strong>+15-20–∫–≥ –∑–∞ 4 –º–µ—Å—è—Ü–∞</strong> (–∏–∑ 55–∫–≥ –≤ 70-75–∫–≥)</p>
                                                <p>üòé <strong>–ú—É–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ</strong> - —É–±–µ—Ä–µ—Ç –≤–ø–∞–ª–æ—Å—Ç—å —â–µ–∫</p>
                                                <p>üíé <strong>–ß–µ—Ç–∫–∏–µ —Å–∫—É–ª—ã</strong> - –ª–µ–¥ —É–±–∏—Ä–∞–µ—Ç –æ—Ç–µ–∫–∏</p>
                                                <p>üí™ <strong>–°–∏–ª—å–Ω–æ–µ —Ç–µ–ª–æ</strong> - —à–∏—Ä–æ–∫–∏–µ –ø–ª–µ—á–∏, —Ä–µ–ª—å–µ—Ñ</p>
                                            </div>
                                        </div>
                                        
                                        <div className="glass-effect rounded-2xl p-4">
                                            <h4 className="font-semibold text-white mb-2 flex items-center">
                                                <Heart size={16} className="mr-2" />
                                                –°–ï–ö–†–ï–¢ –°–ö–£–õ (–ë–ï–ó –ë–ê–î–û–í!)
                                            </h4>
                                            <div className="text-xs text-gray-300 space-y-2">
                                                <p>üßä <strong>–õ–µ–¥ 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å</strong> - —É–±–∏—Ä–∞–µ—Ç –æ—Ç–µ–∫–∏</p>
                                                <p>üìà <strong>–ù–∞–±–æ—Ä 15-20–∫–≥</strong> - —É–±–µ—Ä–µ—Ç –≤–ø–∞–ª–æ—Å—Ç—å —â–µ–∫</p>
                                                <p>üíß <strong>3+ –ª–∏—Ç—Ä–∞ –≤–æ–¥—ã</strong> - –∑–¥–æ—Ä–æ–≤–∞—è –∫–æ–∂–∞</p>
                                                <p>‚ö° <strong>–ë–ê–î—ã –ù–ï –ù–£–ñ–ù–´!</strong> –õ–µ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ!</p>
                                            </div>
                                        </div>
                                        
                                        <div className="glass-effect rounded-2xl p-4">
                                            <h4 className="font-semibold text-white mb-2 flex items-center">
                                                <Clock size={16} className="mr-2" />
                                                25 –ó–ê–î–ê–ù–ò–ô –ù–ê –î–ï–ù–¨
                                            </h4>
                                            <div className="text-xs text-gray-300 space-y-2">
                                                <p>‚è∞ <strong>–ó–∞–¥–∞–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏</strong> - –Ω–µ–ª—å–∑—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ</p>
                                                <p>üåÖ <strong>08:00-12:00</strong> - —É—Ç—Ä–µ–Ω–Ω–∏–π –±–ª–æ–∫</p>
                                                <p>‚òÄÔ∏è <strong>12:00-16:00</strong> - –¥–Ω–µ–≤–Ω–æ–π –±–ª–æ–∫</p>
                                                <p>üèãÔ∏è <strong>16:00-18:00</strong> - —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</p>
                                                <p>üåô <strong>18:00-22:00</strong> - –≤–µ—á–µ—Ä–Ω–∏–π –±–ª–æ–∫</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* –£–õ–£–ß–®–ï–ù–ù–ê–Ø –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å —Å—Ç—Ä–∏–∫–æ–º */}
                        <div className={`mb-6 glass-effect rounded-3xl p-6 transition-all duration-500 ${
                            player.massPoints >= 500 ? 'muscle-glow' : ''
                        }`}>
                            <div className="flex items-center justify-between mb-4">
                                <div>
                                    <h2 className="text-lg font-bold flex items-center">
                                        {rankInfo.icon} {player.name}
                                        {player.currentStreak > 0 && (
                                            <div className="ml-2 flex items-center">
                                                <Fire size={16} className="text-white streak-fire" />
                                                <span className="text-white font-bold">{player.currentStreak}</span>
                                            </div>
                                        )}
                                    </h2>
                                    <div className="text-xs text-gray-400">Level {player.level} ‚Ä¢ {player.tasksCompleted} –∑–∞–¥–∞–Ω–∏–π</div>
                                    {player.bestStreak > 0 && (
                                        <div className="text-xs text-white">üî• –õ—É—á—à–∏–π —Å—Ç—Ä–∏–∫: {player.bestStreak} –¥–Ω–µ–π</div>
                                    )}
                                </div>
                                <div className="text-right">
                                    <div className="text-2xl font-bold text-white">
                                        {player.currentWeight} –∫–≥
                                    </div>
                                    <div className="text-xs text-gray-400">{player.massPoints} MP</div>
                                </div>
                            </div>
                            
                            <div className="text-center text-sm text-gray-300 mb-4 italic font-medium bg-black bg-opacity-20 rounded-2xl py-2 px-3">
                                "{getMotivationalQuote()}"
                            </div>
                            
                            {/* –£–õ–£–ß–®–ï–ù–ù–ê–Ø –ø–æ–ª–æ—Å–∞ –æ–ø—ã—Ç–∞ */}
                            <div className="mb-4">
                                <div className="flex justify-between text-xs mb-2 text-gray-400">
                                    <span>–û–ü–´–¢ –î–û –°–õ–ï–î–£–Æ–©–ï–ì–û –£–†–û–í–ù–Ø</span>
                                    <span>{player.exp} / {player.expToNext}</span>
                                </div>
                                <div className="w-full bg-black bg-opacity-30 rounded-full h-3 overflow-hidden border border-white border-opacity-10 progress-bar">
                                    <div 
                                        className="h-full transition-all duration-1000 ease-out rounded-full"
                                        style={{ 
                                            width: `${Math.min((player.exp / player.expToNext) * 100, 100)}%`,
                                            background: 'linear-gradient(90deg, #ffffff, #cccccc)',
                                            boxShadow: '0 0 15px rgba(255,255,255,0.6)'
                                        }}
                                    ></div>
                                </div>
                            </div>
                            
                            {/* –£–õ–£–ß–®–ï–ù–ù–ê–Ø —Å–µ—Ç–∫–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ */}
                            <div className="grid grid-cols-2 gap-4">
                                <div className="glass-effect rounded-2xl p-3 text-center">
                                    <Dumbbell className="text-white mx-auto mb-1" size={16} />
                                    <div className="text-xs text-gray-400">–°–ò–õ–ê</div>
                                    <div className="font-bold text-lg">{player.strength}</div>
                                </div>
                                <div className="glass-effect rounded-2xl p-3 text-center">
                                    <Activity className="text-white mx-auto mb-1" size={16} />
                                    <div className="text-xs text-gray-400">–ú–´–®–¶–´</div>
                                    <div className="font-bold text-lg">{player.muscle}</div>
                                </div>
                                <div className="glass-effect rounded-2xl p-3 text-center">
                                    <TrendingUp className="text-white mx-auto mb-1" size={16} />
                                    <div className="text-xs text-gray-400">–≠–ù–ï–†–ì–ò–Ø</div>
                                    <div className="font-bold text-lg">{player.energy}</div>
                                </div>
                                <div className="glass-effect rounded-2xl p-3 text-center">
                                    <Target className="text-white mx-auto mb-1" size={16} />
                                    <div className="text-xs text-gray-400">–î–ò–°–¶–ò–ü–õ–ò–ù–ê</div>
                                    <div className="font-bold text-lg">{player.discipline}</div>
                                </div>
                            </div>
                        </div>

                        {/* –£–õ–£–ß–®–ï–ù–ù–ê–Ø –∫–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–Ω–≥–∞ */}
                        <div className="mb-6 glass-effect rounded-3xl p-6">
                            <h3 className="text-sm font-medium mb-4 flex items-center tracking-wide uppercase">
                                <Trophy className="mr-2 text-white" size={16} />
                                –†–ê–ù–ì –ë–ò–õ–î–ï–†–ê
                            </h3>
                            <div className="text-center">
                                <div className={`text-xl font-bold ${rankInfo.color} mb-2`}>
                                    {rankInfo.icon} {rankInfo.rank}
                                </div>
                                <p className="text-xs text-gray-400">{rankInfo.next || "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–Ω–≥ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!"}</p>
                                {rankInfo.next && (
                                    <div className="mt-3 w-full bg-black bg-opacity-30 rounded-full h-2">
                                        <div 
                                            className="h-full rounded-full transition-all duration-1000 bg-white"
                                            style={{ 
                                                width: `${((player.currentWeight - 55) / 20) * 100}%`
                                            }}
                                        ></div>
                                    </div>
                                )}
                            </div>
                        </div>

                        {/* –£–õ–£–ß–®–ï–ù–ù–û–ï —Ç–µ–∫—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ —Å —Ç–∞–π–º–µ—Ä–æ–º */}
                        <div className="mb-6">
                            <h3 className="text-lg font-bold flex items-center justify-between mb-4">
                                <div className="flex items-center">
                                    <Zap className="mr-2 text-white" size={18} />
                                    –°–ï–ô–ß–ê–° –î–û–°–¢–£–ü–ù–û
                                </div>
                                {timeUntilNext && (
                                    <div className="flex items-center text-sm text-gray-400">
                                        <Timer className="mr-1" size={14} />
                                        {timeUntilNext}
                                    </div>
                                )}
                            </h3>

                            {currentQuest ? (
                                <div className="current-task glass-effect rounded-3xl p-6 animate-pulse-glow">
                                    <div className="flex items-center space-x-3 mb-4">
                                        <div className="p-3 rounded-2xl bg-white bg-opacity-10">
                                            {currentQuest.icon}
                                        </div>
                                        <div className="flex-1">
                                            <div className="text-xl font-bold text-white">{currentQuest.time}</div>
                                            <h4 className="font-semibold text-lg">{currentQuest.title}</h4>
                                            <div className="text-xs text-gray-400">
                                                –ó–∞–¥–∞–Ω–∏–µ #{availableQuestIndex + 1} –∏–∑ {dailyQuests.length} ‚Ä¢ {currentQuest.category}
                                            </div>
                                        </div>
                                        <button
                                            onClick={() => setExpandedQuest(expandedQuest === currentQuest.id ? null : currentQuest.id)}
                                            className="p-3 rounded-2xl hover:bg-white hover:bg-opacity-10 transition-colors"
                                        >
                                            <Info size={16} className="text-gray-400" />
                                        </button>
                                    </div>
                                    
                                    {expandedQuest === currentQuest.id && (
                                        <div className="mb-4 glass-effect rounded-2xl p-4 transition-all duration-300">
                                            <p className="text-sm text-gray-300 leading-relaxed">{currentQuest.details}</p>
                                        </div>
                                    )}
                                    
                                    <div className="flex items-center justify-between text-sm mb-4 glass-effect rounded-2xl p-3">
                                        <span className="text-white">+{currentQuest.exp} EXP</span>
                                        <span className="text-white">+{currentQuest.mp} MP</span>
                                        {currentQuest.stats && Object.entries(currentQuest.stats).map(([stat, value]) => (
                                            <span key={stat} className="text-white">+{value} {stat.slice(0,3).toUpperCase()}</span>
                                        ))}
                                    </div>
                                    
                                    {!completedToday.includes(currentQuest.id) ? (
                                        <button 
                                            onClick={() => completeQuest(currentQuest.id)}
                                            className="w-full py-4 rounded-2xl bg-gradient-to-r from-white to-gray-200 border-2 border-white hover:from-gray-200 hover:to-gray-300 text-lg font-bold transition-all duration-300 text-black shadow-lg hover:shadow-white/25"
                                        >
                                            ‚úÖ –í–´–ü–û–õ–ù–ò–¢–¨ –ó–ê–î–ê–ù–ò–ï!
                                        </button>
                                    ) : (
                                        <div className="w-full py-4 rounded-2xl completed-task text-lg font-bold text-white text-center">
                                            ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û! –û–¢–õ–ò–ß–ù–û!
                                        </div>
                                    )}
                                </div>
                            ) : (
                                <div className="glass-effect rounded-3xl p-6 text-center">
                                    <div className="text-2xl font-bold text-blue-400 mb-3">‚è∞ –°–õ–ò–®–ö–û–ú –†–ê–ù–û!</div>
                                    <div className="text-sm text-gray-300">
                                        –ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ <strong>08:00</strong><br/>
                                        –ù–µ–ª—å–∑—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞—Ä–∞–Ω–µ–µ - —ç—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É!
                                    </div>
                                    {nextQuest && (
                                        <div className="mt-4 glass-effect rounded-2xl p-3">
                                            <div className="text-xs text-gray-400">–°–õ–ï–î–£–Æ–©–ï–ï –ó–ê–î–ê–ù–ò–ï:</div>
                                            <div className="text-sm font-medium">{nextQuest.time} - {nextQuest.title}</div>
                                            {timeUntilNext && (
                                                <div className="text-xs text-white mt-1">—á–µ—Ä–µ–∑ {timeUntilNext}</div>
                                            )}
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>

                        {/* –£–õ–£–ß–®–ï–ù–ù–´–ô —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π */}
                        <div className="mb-6">
                            <h3 className="text-lg font-bold flex items-center mb-4">
                                <Clock className="mr-2 text-white" size={18} />
                                –ü–õ–ê–ù –ù–ê –î–ï–ù–¨
                            </h3>

                            <div className="space-y-3">
                                {Object.entries(
                                    dailyQuests.reduce((acc, quest, index) => {
                                        const category = quest.category;
                                        if (!acc[category]) acc[category] = [];
                                        acc[category].push({ ...quest, index });
                                        return acc;
                                    }, {})
                                ).map(([category, quests]) => (
                                    <div key={category} className="glass-effect rounded-3xl p-4">
                                        <h4 className="text-sm font-bold text-gray-400 uppercase tracking-wide mb-3">
                                            {category === 'morning' && 'üåÖ –£–¢–†–û'}
                                            {category === 'day' && '‚òÄÔ∏è –î–ï–ù–¨'}
                                            {category === 'pre-workout' && '‚ö° –ü–ï–†–ï–î –¢–†–ï–ù–ò–†–û–í–ö–û–ô'}
                                            {category === 'workout' && 'üèãÔ∏è –¢–†–ï–ù–ò–†–û–í–ö–ê'}
                                            {category === 'post-workout' && 'üí™ –ü–û–°–õ–ï –¢–†–ï–ù–ò–†–û–í–ö–ò'}
                                            {category === 'evening' && 'üåÜ –í–ï–ß–ï–†'}
                                            {category === 'night' && 'üåô –ù–û–ß–¨'}
                                        </h4>
                                        <div className="space-y-2">
                                            {quests.map((quest) => {
                                                const isCompleted = completedToday.includes(quest.id);
                                                const isAvailable = isQuestAvailable(quest.index);
                                                const isCurrent = quest.index === availableQuestIndex;
                                                
                                                return (
                                                    <div 
                                                        key={quest.id} 
                                                        className={`rounded-2xl p-3 transition-all duration-300 ${
                                                            isCompleted ? 'completed-task' : 
                                                            isCurrent ? 'current-task animate-pulse-glow' :
                                                            isAvailable ? 'glass-effect opacity-80' : 'locked-task opacity-40'
                                                        }`}
                                                    >
                                                        <div className="flex items-center justify-between">
                                                            <div className="flex items-center space-x-3">
                                                                <div className={`p-2 rounded-xl ${isCompleted ? 'bg-green-500 bg-opacity-20' : 'bg-white bg-opacity-10'}`}>
                                                                    {quest.icon}
                                                                </div>
                                                                <div>
                                                                    <div className="text-sm font-bold text-white">{quest.time}</div>
                                                                    <div className="text-sm font-medium">{quest.title}</div>
                                                                </div>
                                                            </div>
                                                            <div className="text-right flex flex-col items-center">
                                                                {isCompleted ? (
                                                                    <CheckCircle size={20} className="text-white" />
                                                                ) : isCurrent ? (
                                                                    <div className="text-xs text-black font-bold bg-white bg-opacity-90 px-2 py-1 rounded-full">
                                                                        –°–ï–ô–ß–ê–°
                                                                    </div>
                                                                ) : isAvailable ? (
                                                                    <div className="text-xs text-black font-bold bg-gray-400 bg-opacity-90 px-2 py-1 rounded-full">
                                                                        –î–û–°–¢–£–ü–ù–û
                                                                    </div>
                                                                ) : (
                                                                    <Clock size={16} className="text-gray-500" />
                                                                )}
                                                                <div className="text-xs text-gray-500 mt-1">
                                                                    +{quest.exp}exp
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* –£–õ–£–ß–®–ï–ù–ù–´–ô –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–Ω—è */}
                        <div className="glass-effect rounded-3xl p-6">
                            <h3 className="text-sm font-medium mb-4 flex items-center tracking-wide uppercase">
                                <Trophy className="mr-2 text-yellow-400" size={16} />
                                –ü–†–û–ì–†–ï–°–° –î–ù–Ø
                            </h3>
                            <div className="space-y-4">
                                <div className="grid grid-cols-3 gap-3">
                                    <div className="text-center glass-effect rounded-2xl p-3">
                                        <div className="text-xl font-bold text-green-400">{completedToday.length}</div>
                                        <div className="text-xs text-gray-400">–í–´–ü–û–õ–ù–ï–ù–û</div>
                                    </div>
                                    <div className="text-center glass-effect rounded-2xl p-3">
                                        <div className="text-xl font-bold text-yellow-400">{availableQuestIndex + 1}</div>
                                        <div className="text-xs text-gray-400">–î–û–°–¢–£–ü–ù–û</div>
                                    </div>
                                    <div className="text-center glass-effect rounded-2xl p-3">
                                        <div className="text-xl font-bold text-blue-400">{dailyQuests.length - completedToday.length}</div>
                                        <div className="text-xs text-gray-400">–û–°–¢–ê–õ–û–°–¨</div>
                                    </div>
                                </div>
                                
                                <div>
                                    <div className="flex justify-between text-sm mb-2">
                                        <span className="text-gray-400">–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:</span>
                                        <span className="text-white font-bold">{completionPercentage.toFixed(1)}%</span>
                                    </div>
                                    <div className="w-full bg-black bg-opacity-30 rounded-full h-4 mt-3 progress-bar border border-white border-opacity-10">
                                        <div 
                                            className="h-full transition-all duration-1000 rounded-full flex items-center justify-center text-xs font-bold text-white"
                                            style={{ 
                                                width: `${Math.max(completionPercentage, 5)}%`,
                                                background: completionPercentage === 100 
                                                    ? 'linear-gradient(90deg, #ffffff, #cccccc)' 
                                                    : 'linear-gradient(90deg, #ffffff, #cccccc)',
                                                boxShadow: completionPercentage === 100 
                                                    ? '0 0 20px rgba(255, 255, 255, 0.6)' 
                                                    : '0 0 10px rgba(255, 255, 255, 0.6)'
                                            }}
                                        >
                                            {completionPercentage >= 20 && `${completionPercentage.toFixed(0)}%`}
                                        </div>
                                    </div>
                                </div>
                                
                                {completionPercentage === 100 && (
                                    <div className="text-center mt-4 glass-effect rounded-2xl p-4 muscle-glow">
                                        <div className="text-2xl font-bold text-white mb-2">üéâ –ò–î–ï–ê–õ–¨–ù–´–ô –î–ï–ù–¨!</div>
                                        <div className="text-sm text-gray-300">–í—Å–µ 25 –∑–∞–¥–∞–Ω–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω—ã! –¢—ã —á–µ–º–ø–∏–æ–Ω!</div>
                                        <div className="text-xs text-white mt-2">+–ë–û–ù–£–° –ö –†–û–°–¢–£ –ú–´–®–¶!</div>
                                        <div className="flex items-center justify-center mt-2">
                                            <Fire size={16} className="text-white streak-fire mr-1" />
                                            <span className="text-white font-bold">–°–¢–†–ò–ö +1!</span>
                                        </div>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<MassGainApp />);
    </script>
</body>
</html>
